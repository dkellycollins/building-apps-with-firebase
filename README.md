# Building apps with Firebase
This repository is intented to showcase an application that uses Firebase as a back-end for authentication, hosting, databases, and more. Each branch is shows the code changes required to implement each service firebase offers.

## Branches

### [01-base](https://github.com/dkellycollins/building-apps-with-firebase/tree/01-base)
This branch is the starting point for our demo. It has the base Angular application we will be modifying in the budget-demo folder as well as the default files generated by running `firebase init` in the firebase folder.

### [02-hosting](https://github.com/dkellycollins/building-apps-with-firebase/compare/01-base...02-hosting)
Updates angular.json to build the project to firebase/public so that it can be deployed. Also updates the configuration in firebase.json to support spa routing by serving index.html for all requests.

Changes can be deployed by running firebase deploy --only hosting from the firebase folder.

### [03-auth](https://github.com/dkellycollins/building-apps-with-firebase/compare/02-hosting...03-auth)
Initializes firebase and updates the side-nav component to redirect the user to sign in with Google when they click the login button.

### [04a-firestore](https://github.com/dkellycollins/building-apps-with-firebase/compare/03-auth...04a-firestore)
Contains the minimal changes required to connect the app to a Firestore collection.

### [04b-firestore-security](https://github.com/dkellycollins/building-apps-with-firebase/compare/04a-firestore...04b-firestore-security)
Adds security rules to better protect the data manage in Firestore.

### [05-storage](https://github.com/dkellycollins/building-apps-with-firebase/compare/04b-firestore-security...05-storage)
Adds the ability to upload images in the app.

### [06a-functions-api](https://github.com/dkellycollins/building-apps-with-firebase/compare/05-storage...06a-functions-api)
Sets up the application's first Firebase function, the api function. Updates the application to call this function to calculate the total amount for all transactions created by a user.

### [06b-functions-security](https://github.com/dkellycollins/building-apps-with-firebase/compare/06a-functions-api...06b-functions-security)
Update the api function to require the user's id token be passed in through the Authorization header on the request in order to enforce that getTransactionsTotalForUser can only be called with the currently authenticated user.

### [07-google-cloud-vision](https://github.com/dkellycollins/building-apps-with-firebase/compare/06b-functions-security...07-google-cloud-vision)
Adds a new function to process all new images with Google's cloud vision api.